---
import { Image } from "astro:assets"
import item01 from "../assets/img/sch/sch01.png"
import item02 from "../assets/img/sch/sch_02.png"
import item03 from "../assets/img/sch/sch_03.png"
import item04 from "../assets/img/sch/sch_04.png"
import item05 from "../assets/img/sch/sch_05.png"
import item06 from "../assets/img/sch/sch_06.png"
import item07 from "../assets/img/sch/sch_07.png"
import item08 from "../assets/img/sch/sch_08.png"
import item09 from "../assets/img/sch/sch_09.png"
import item10 from "../assets/img/sch/sch_010.png"
import item11 from "../assets/img/sch/sch_011.png"
import add02 from "../assets/img/about/item_kama.svg"
import add03 from "../assets/img/about/item_muse.svg"
import add04 from "../assets/img/about/item_nin.svg"
import add05 from "../assets/img/about/item_pand.svg"
import add06 from "../assets/img/about/item_tanu.svg"
import add07 from "../assets/img/about/item_yu.svg"
---

<section class="sch" id="sec02">
  <div class="titleBox">
    <h2 class="tit_h2">スケジュール</h2>
  </div>
  <div class="horizontal-wrapper">
    <div class="innerSch">
      <ul>
        <li class="timeBox">
          <div class="timeBoxTime">
            <span class="time">AM</span>
            <h3 class="num">9:10</h3>
          </div>
          <div class="timeBoxTxt">
            京都駅集合
          </div>
          <div class="timeBoxImg">
            <Image src={item01} alt="deco"></Image>
          </div>
        </li>
        <li class="line">
          <p class="line_txt">電車<br>1h38min</p>
        </li>
        <li class="timeBox">
          <div class="timeBoxTime">
            <span class="time">AM</span>
            <h3 class="num">10:48</h3>
          </div>
          <div class="timeBoxTxt">
            信楽駅に到着
          </div>
          <div class="timeBoxImg">
            <Image src={item03} alt="deco"></Image>
          </div>
          <div class="decos --add6">
            <Image src={add06} alt="deco"></Image>
          </div>
        </li>
        <li class="line">
          <p class="line_txt">徒歩<br>2min</p>
        </li>
        <!-- <li class="timeBox">
          <div class="timeBoxTime">
            <span class="time">AM</span>
            <h3 class="num">11:00</h3>
          </div>
          <div class="timeBoxTxt">
            信楽焼ミュージアム
          </div>
          <div class="timeBoxImg">
            <Image src={item10} alt="deco"></Image>
          </div>
        </li> -->
        <!-- <li class="line">
          <p class="line_txt">徒歩<br>3min</p>
        </li> -->
        <li class="timeBox">
          <div class="timeBoxTime">
            <span class="time">AM</span>
            <h3 class="num">11:00</h3>
          </div>
          <div class="timeBoxTxt">
            一水庵 でランチ
          </div>
          <div class="timeBoxImg">
            <Image src={item07} alt="deco"></Image>
          </div>
          <div class="decos --add4">
            <Image src={add04} alt="deco"></Image>
          </div>
        </li>
        <li class="line">
          <p class="line_txt">タクシー<br>5min</p>
        </li>
        <li class="timeBox">
          <div class="timeBoxTime">
            <span class="time">PM</span>
            <h3 class="num">0:45</h3>
          </div>
          <div class="timeBoxTxt">
            大小屋 に到着
          </div>
          <div class="timeBoxImg">
            <Image src={item02} alt="deco"></Image>
          </div>
          <div class="decos --add7">
            <Image src={add07} alt="deco"></Image>
          </div>
        </li>
        <li class="line">
          <p class="line_txt">チーム行動へ</p>
        </li>
        <li class="timeBox">
          <div class="timeBoxTime">
            <span class="time">PM</span>
            <h3 class="num">1:00</h3>
          </div>
          <div class="timeBoxTxt">
            Aチーム体験開始<br>Bチーム散策
          </div>
          <div class="timeBoxImg">
            <Image src={item08} alt="deco"></Image>
          </div>
        </li>
        <li class="line">
          <p class="line_txt">チーム交代</p>
        </li>
        <li class="timeBox">
          <div class="timeBoxTime">
            <span class="time">PM</span>
            <h3 class="num">2:00</h3>
          </div>
          <div class="timeBoxTxt">
            Bチーム体験開始<br>Aチーム散策
          </div>
          <div class="timeBoxImg">
            <Image src={item09} alt="deco"></Image>
          </div>
          <div class="decos --add5">
            <Image src={add05} alt="deco"></Image>
          </div>
        </li>
        <li class="line">
          <p class="line_txt">体験終了</p>
        </li>
        <li class="timeBox">
          <div class="timeBoxTime">
            <span class="time">PM</span>
            <h3 class="num">3:00</h3>
          </div>
          <div class="timeBoxTxt">
            全体験終了<br>散策しつつ写真撮影など
          </div>
          <div class="timeBoxImg">
            <Image src={item04} alt="deco"></Image>
          </div>
          <div class="decos --add3">
            <Image src={add03} alt="deco"></Image>
          </div>
        </li>
        <li class="line">
          <p class="line_txt">散策散歩<br>30min</p>
        </li>
        <li class="timeBox">
          <div class="timeBoxTime">
            <span class="time">PM</span>
            <h3 class="num">3:30</h3>
          </div>
          <div class="timeBoxTxt">
            登り窯カフェへ<br>まったりタイム
          </div>
          <div class="timeBoxImg">
            <Image src={item06} alt="deco"></Image>
          </div>
          <div class="decos --add2">
            <Image src={add02} alt="deco"></Image>
          </div>
        </li>
        <li class="line">
          <p class="line_txt">徒歩<br>10min</p>
        </li>
        <li class="timeBox">
          <div class="timeBoxTime">
            <span class="time">PM</span>
            <h3 class="num">5:06</h3>
          </div>
          <div class="timeBoxTxt">
            信楽駅から京都へ。
          </div>
          <div class="timeBoxImg">
            <Image src={item05} alt="deco"></Image>
          </div>
        </li>
        <li class="line">
          <p class="line_txt">電車<br>1h38min</p>
        </li>
        <li class="timeBox">
          <div class="timeBoxTime">
            <span class="time">PM</span>
            <h3 class="num">6:27</h3>
          </div>
          <div class="timeBoxTxt">
            お疲れ様でした！
          </div>
          <div class="timeBoxImg">
            <Image src={item11} alt="deco"></Image>
          </div>
        </li>
        <li class="timeBox --opa0">
        </li>
      </ul>
    </div>
  </div>
</section>

<style lang="scss">
  .sch{
    // padding-top: 240px;
    // padding-bottom: 200px;
    // overflow: hidden; 
    height: 100vh;
    background:#F2EEEF;
    position: relative;
    &::before {
				content: "";
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				// ノイズ背景を透過30%で設定
				background: url('/img/Bg_noise01.png') repeat;
				background-size: 300px 300px;
				opacity: 0.3;  // 透過率を適用
				background-blend-mode: soft-light;
				pointer-events: none;
				z-index: 1;
			}
      &::after {
				content: "";
				position: absolute;
				bottom: 0;
				left: 0;
				width: 100%;
				height: 250px;
				background: linear-gradient(0deg, #FFF 0%, rgba(255, 255, 255, 0.00) 100%);
				z-index: 20;
			}
  }
  .horizontal-wrapper {
    width: 100vw;
    overflow: hidden; 
  }
  .titleBox{
  max-width: 1120px;
  margin: 0 auto;
  position: relative;
  z-index: 500;
  padding: 0 40px;
  padding-top: 160px;
  @media (max-width: 765px) {
    padding: 0 24px;
    padding-top: 100px;
    }
  }
  .decos{
    position:absolute;
    &.--add2{
      top:-15px;
      right:-20px;
      width:140px;
    }
    &.--add3{
      top:10px;
      right:-10px;
      width:180px;
    }
    &.--add4{
      top:-10px;
      right:-10px;
      width:110px;
    }
    &.--add5{
      top:-30px;
      right:-10px;
      width:110px;
    }
    &.--add6{
      top:-25px;
      right:-10px;
      width:120px;
    }
    &.--add7{
      top:-25px;
      right:-10px;
      width:120px;
    }
  }
  .innerSch {
  max-width: 1120px;
  margin: 0 auto;
  position: relative;
  z-index: 500;
  padding: 0 40px;
  width: 500%; /* 横方向に広げる幅を調整 */
  @media (max-width: 765px) {
    padding: 0 24px;
    }
  }
  .absol{
    position: absolute;
    top: 50%;
  }
  ul{
    margin-top: 40px;
    display: flex;
    align-items: center;
  }
  .timeBox, .line {
    flex-shrink: 0;
  }
  .timeBox{
    border-radius: 16px;
    // border: 2px solid var(--mian01, #669F95);
    padding: 32px;
    width: 448px;
    position:relative;
    background:#fff;
    @media (max-width: 765px) {
    max-width:350px;
    width: 100%;
    padding: 16px;
    }
    &.--opa0{
      margin-right: 800px;
      opacity: 0;
      @media (max-width: 765px) {
        margin-right: 0px;
        width: 100px;
      }
    }
    &Time{
      display: flex;
      align-items: center;
      gap: 8px;
      .time{
        color: var(--Wt, #FFF);
        font-family: "Zen Kaku Gothic New";
        font-size: 13px;
        font-style: normal;
        font-weight: 700;
        line-height: 100%; /* 13px */
        letter-spacing: 0.65px;
        padding: 1px 8px 3px 8px;
        display: grid;
        place-items: center;
        border-radius: 50px;
        background: var(--mian01, #669F95);
      }
      .num{
        font-family: "Zen Kaku Gothic New";
        font-size: 30px;
        font-style: normal;
        font-weight: 700;
        line-height: 120%; /* 36px */
        letter-spacing: 1.5px;
      }
    }
    &Txt{
      margin-top: 16px;
      margin-bottom: 16px;
      height: 40px;
      font-family: "Zen Kaku Gothic New";
      font-size: 16px;
      font-style: normal;
      font-weight: 700;
      line-height: 120%; /* 19.2px */
      letter-spacing: 0.8px;
    }
    &Img{
      overflow: hidden;
      border-radius: 8px;
    }
  }
  .line{
    width: 180px;
    padding-bottom: 16px;
    border-bottom: 3px dashed #625B4A;
    &_txt{
      text-align: center;
      font-family: "Zen Kaku Gothic New";
      font-size: 16px;
      font-style: normal;
      font-weight: 700;
      line-height: 120%; /* 19.2px */
      letter-spacing: 0.8px;
    }
    @media (max-width: 765px) {
      width: 140px;
      }
  }
</style>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";
  gsap.registerPlugin(ScrollTrigger);

  const container = document.querySelector(".horizontal-wrapper");

  // container が存在するかチェック
  if (container) {
    const scrollWidth = container.scrollWidth - window.innerWidth;

    gsap.to(".innerSch", {
      x: -scrollWidth, // 横方向のスクロール距離を指定
      ease: "none",
      scrollTrigger: {
        trigger: ".sch",
        pin: true, // セクションをピン留め
        scrub: true, // スクロールに連動
        end: () => "+=" + scrollWidth // コンテンツの横幅に応じて終了位置を設定
      }
    });
  } else {
    console.error('Container element ".horizontal-wrapper" not found.');
  }
</script>


